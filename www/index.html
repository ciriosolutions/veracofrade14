<!DOCTYPE HTML>

<html>
<head>

    <title>VeraCofrade</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="css/topcoat-mobile-light.css" />

    <script type="text/javascript" src="js/jquery-2.1.0.js"></script>
    <script type="text/javascript" src="js/phonegap.js"></script>
	<script type="text/javascript" src="js/spin.min.js"></script>

	<!--<script type="text/javascript">
		$(function() {
    		FastClick.attach(document.body);
		});
	</script>-->

	<script type="text/javascript">
		
		var opts = {
			lines: 11, // The number of lines to draw
			length: 20, // The length of each line
			width: 10, // The line thickness
			radius: 41, // The radius of the inner circle
			corners: 0.8, // Corner roundness (0..1)
			rotate: 24, // The rotation offset
			direction: 1, // 1: clockwise, -1: counterclockwise
			color: '#000', // #rgb or #rrggbb or array of colors
			speed: 0.8, // Rounds per second
			trail: 85, // Afterglow percentage
			shadow: false, // Whether to render a shadow
			hwaccel: false, // Whether to use hardware acceleration
			className: 'spinner', // The CSS class to assign to the spinner
			zIndex: 2e9, // The z-index (defaults to 2000000000)
		};

		var target = document.getElementById('spin');
		var spinner = new Spinner(opts);
	</script>	
	
    <script>
        function slidePageFrom(page, from, currentPage) {

        	//page.zindex= 9999;
			// Position the page at the starting position of the animation
			page.className = "page " + from;
			// Position the new page and the current page at the ending position of their animation with a transition class indicating the duration of the animation
			page.className ="page transition center";

			currentPage.className = "page transition right"; // + (from === "left" ? "right" : "left");	

			//currentPage.zindex=1;
        }
    </script>

    <script type="text/javascript">

        $(document).ready(function() {

            $("#Main").load("htmls/mapa.html");

            $("input[id=RBMapa]").attr('checked', true);
			
            $("#mapa").click(function(event){
				if($("#NewSection").hasClass("right")){
					spinner.spin(target);
					$("#NewSection").empty();
					
					slidePageFrom(NewSection, 'right', Main);
					$("#NewSection").load("htmls/mapa.html");
					$("#spin").hide();		
					$("#NewSection").show();					
				}
				else if($("#Main").hasClass("right")){
					spinner.spin(target);	
					$("#Main").empty();					
					slidePageFrom(Main, 'right', NewSection);
					$("#Main").load("htmls/mapa.html");
					$("#spin").hide();
					$("#Main").show();					
				}
            });

            $("#ahcv").click(function(event){				
				if($("#NewSection").hasClass("right")){
					spinner.spin(target);
					$("#NewSection").empty();
					slidePageFrom(NewSection, 'right', Main);
					$("#NewSection").load("htmls/hermandades.html");
					$("#spin").hide();		
					$("#NewSection").show();
				}
				else if($("#Main").hasClass("right")){									
					spinner.spin(target);
					$("#Main").empty();					
					slidePageFrom(Main, 'right', NewSection);					
					$("#Main").load("htmls/hermandades.html");
					$("#spin").hide();
					$("#Main").show();
				}
            });

            $("#calendario").click(function(event){
				if($("#NewSection").hasClass("right")){
					spinner.spin(target);
					$("#NewSection").empty();
					slidePageFrom(NewSection, 'right', Main);
					$("#NewSection").load("htmls/calendario.html");
					$("#spin").hide();		
					$("#NewSection").show();	
				}
				else if($("#Main").hasClass("right")){
					spinner.spin(target);
					$("#Main").empty();
					slidePageFrom(Main, 'right', NewSection);
					$("#Main").load("htmls/calendario.html");
					$("#spin").hide();		
					$("#Main").show();	
				}
            });

            $("#social").click(function(event){
				if($("#NewSection").hasClass("right")){
					spinner.spin(target);
					$("#NewSection").empty();
					slidePageFrom(NewSection, 'right', Main);
					$("#NewSection").load("htmls/social.html");
					$("#spin").hide();		
					$("#NewSection").show();	
				}
				else if($("#Main").hasClass("right")){
					spinner.spin(target);
					$("#Main").empty();
					slidePageFrom(Main, 'right', NewSection);
					$("#Main").load("htmls/social.html");
					$("#spin").hide();		
					$("#Main").show();	
				}                
            });
        });
    </script> 

</head>

<body>

    <header>
        <div class="topcoat-navigation-bar full center">
            <div class="topcoat-navigation-bar__item half">
                 <h1 class="topcoat-navigation-bar__title">VeraCofrade</h1>
            </div>
        </div>
    </header>

	<div id="spin" style="display:none; z-index:1;">
	</div>
	
    <div id="Main" class="page center">
    </div>

    <div id="NewSection" class="page right">
    </div>

    <footer>
      <div class="topcoat-tab-bar full" style="position: fixed; bottom: 0px;">        
        <label class="topcoat-tab-bar__item">
            <input type="radio" name="topcoat" id="RBMapa">
            <button id="mapa" class="topcoat-tab-bar__button full">
                <div class="icomatic">location</div>
                <div class="icon-label">Mapa</div>
            </button>
        </label>

        <label class="topcoat-tab-bar__item">
            <input type="radio" name="topcoat" id="RBAHCV">
            <button id="ahcv" class="topcoat-tab-bar__button full">
                <div class="icomatic">home</div>
                <div class="icon-label">AHCV</div>
            </button>
        </label>

        <label class="topcoat-tab-bar__item">
            <input type="radio" name="topcoat" id="RBCalendar">
            <button id="calendario" class="topcoat-tab-bar__button full">
                <div class="icomatic">calendar</div>
                <div class="icon-label">Agenda</div>
            </button>
        </label>

        <label class="topcoat-tab-bar__item">
            <input type="radio" name="topcoat" id="RBSocial">
            <button id="social" class="topcoat-tab-bar__button full">
                <div class="icomatic">group</div>
                <div class="icon-label">Social</div>
            </button>
        </label>
      </div>
    </footer>

</body>
</html>
